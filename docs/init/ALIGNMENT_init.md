# ALIGNMENT_init

## 1. 项目上下文分析
- **项目名称**: System PM Management Console (系统借用调度管理台)
- **当前状态**: 空项目，从零开始。
- **目标用户**: 项目PM，需要统筹管理部门与外部部门的系统借用与上线排期。

## 2. 需求理解确认

### 原始需求
1. **核心对象**:
   - **上线计划 (Release Plan)**: 包含多个上线工单。
   - **工单 (Ticket)**: 关联多个前后端系统。
   - **系统 (System)**: 被占用的资源（前端/后端）。
2. **生命周期 (Stages)**:
   - 测试 (Test)
   - 内灰 (Inner Gray)
   - 外灰 (Outer Gray) - **关键冲突点**
   - 全网 (Full Release) - **关键冲突点**
3. **排期管理**:
   - 每个计划都会规划好各个节点的时间。
4. **冲突规则**:
   - 在 **外灰** 及 **全网** 期间，同一个系统不能被多个计划同时占用。
5. **功能需求**:
   - 录入计划与系统。
   - 自动规划与管理排期（冲突检测/自动建议）。
   - 可视化UI：时间线 (Timeline)、系统视图、计划卡片。

### 边界确认
- **系统范围**: 主要关注排期和资源冲突管理，而非CI/CD流水线执行。
- **数据流**: 用户手动录入或导入计划 -> 系统计算冲突 -> 可视化展示 -> 用户调整。

### 疑问澄清 (自我决策策略)
- **Q1**: "自动规划"是指全自动排期还是冲突提示？
  - **A1**: 考虑到PM业务的复杂性，MVP阶段优先实现 **冲突检测与可视化提示**，进阶功能为 **基于空闲槽位的自动推荐**。
- **Q2**: 技术栈选择？
  - **A2**: 推荐 **React + Vite + TailwindCSS**。组件库使用 **Ant Design** (适合管理后台，时间轴组件丰富)。使用 **Day.js** 处理时间。
- **Q3**: 数据存储？
  - **A3**: 初始阶段使用 **Local Storage** 进行持久化，配合 Mock Data 快速验证交互。

## 3. 智能决策策略
- **冲突算法**: Interval Scheduling (区间调度) 变体。
  - 资源: System ID
  - 时间段: [OuterGray_Start, FullRelease_End]
  - 规则: 对于同一个 System ID，任意两个 Plan 的关键时间段不能重叠。

## 4. 最终共识
- **交付物**: 一个Web端管理台，具备录入、展示、冲突检测功能。
- **验收标准**:
  1. 能创建包含系统列表的计划，设定各阶段时间。
  2. 能够直观看到系统维度的甘特图/时间线。
  3. 当两个计划在"外灰/全网"阶段占用同一系统且时间重叠时，UI显示冲突警告。
